<div class="calendar card">
    <div class="calendar-header card-header bg-light d-flex justify-content-between align-items-center">
      <button class="btn btn-light" (click)="prevMonth()">Previous Month</button>
      <span class="h5 mb-0">{{ currentMonth | date : "MMMM yyyy" }}</span>
      <button class="btn btn-light" (click)="nextMonth()">Next Month</button>
    </div>
    <div class="calendar-body card-body">
      <div class="row">
        <div class="col-md-12">
          <div class="calendar-row" *ngFor="let week of weeks">
            <div class="calendar-cell col border p-2" *ngFor="let day of week">
              <div class="day-number">{{ day.getDate() }}</div>
              <div class="tasks mt-2">
                <ng-container *ngFor="let task of tasksOnDay(day)">
                    <div class="a-task d-grid" (click)="onOpenTask(task.id)">
                        <div class="d-inline-flex">
                            <div
                                class="status-circle"
                                [ngClass]="{
                                    'status-circle-low': task.priority === 'low',
                                    'status-circle-medium': task.priority === 'medium',
                                    'status-circle-high': task.priority === 'high'
                                }"
                            ></div>
                            <span class="task-title">{{ task.priority | capitalizeFirstLetter }}</span>
                        </div>
                        <div class="d-inline-flex">
                            <div
                                class="status-circle"
                                [ngClass]="{
                                    'status-circle-pending': task.status === 'pending',
                                    'status-circle-doing': task.status === 'doing',
                                    'status-circle-reviewing': task.status === 'reviewing',
                                    'status-circle-completed': task.status === 'completed'
                                }"
                            ></div>
                            <span class="task-title">{{ task.status | capitalizeFirstLetter }}</span>
                        </div>
                        <div class="task-title">{{ task.title }}</div>
                        <span *ngIf="task.assignedTo && task.assignedTo.length > 0" class="d-grid">
                            <span class="task-title">To: {{ task.assignedTo[0] | formatUsername }}</span>
                            <span class="task-title" *ngIf="task.assignedTo.length > 1"> and {{ task.assignedTo.length - 1 }} more</span>
                        </span>
                    </div>
                </ng-container>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  